{"version":3,"file":"activity.js","sources":["../../../../../assets/scripts/controller/task/activity.js"],"names":["define","resetScroll","document","documentElement","srcollTop","body","scrollTop","apiBaseUrl","avalon","illyGlobal","token","resourcePrefix","wx","cachedPrefix","copyArr","arr","brr","i","len","length","dataAdapter","source","key","activity","CopyinfoCollect","value","shift","infoJSON","name","phone","others","$id","visited","taskId","theme","isDone","isCancel","isFilling","activityId","scoreAward","address","content","startTime","endTime","deadline","shareCount","visitCount","likeCount","infoCollect","isShared","updateShare","$http","ajax","method","url","headers","Authorization","success","error","res","console","log","ajaxFail","hasLiked","updateLike","like","setLocalCache","shareMaskShow","showShareMask","mask","querySelector","setTimeout","style","display","classList","add","hideShareMask","remove","filling","cancel","pushInfo","validPhone","test","valid","data","alert","fetchData","localCache","getLocalCache","_id","dataType","json","unshift","onMenuShareTimeline","title","link","imgUrl","querySelectorAll","src","$","click","controller","$ctrl","$onRendered","signUp","$onEnter","params","vmodels","root","currentIsVisited","isLiked","$watch","newVal","genClips","$t","amount","width","height","y","Math","pow","index","z","appendTo","rand","min","max","floor","random","first","clicked","on","css","each","nx","ny","v","angle","theta","PI","g","self","this","t","totalt","negate","direction","randDeg","randScale","randDeg2","transform","setInterval","ux","cos","uy","sin","bottom","left","clearInterval","r","addClass","$onBeforeUnload","$vmodels"],"mappings":"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"}