{"version":3,"file":"activity.js","sources":["../../../../../assets/scripts/controller/task/activity.js"],"names":["define","resetScroll","document","documentElement","srcollTop","body","scrollTop","apiBaseUrl","avalon","illyGlobal","token","jinbiResourcePrefix","vmodels","task","illy_domain","wx","cachedPrefix","copyArr","arr","brr","i","len","length","dataAdapter","source","key","activity","copyinfoCollect","value","shift","infoJSON","name","phone","others","$id","visited","taskId","theme","isDone","isCancel","isFilling","activityId","scoreAward","address","content","startTime","endTime","deadline","shareCount","visitCount","likeCount","infoCollect","isShared","updateShare","$http","ajax","method","url","headers","Authorization","success","res","score","error","console","log","ajaxFail","hasLiked","updateLike","like","setLocalCache","shareMaskShow","showShareMask","mask","querySelector","setTimeout","style","display","classList","add","hideShareMask","remove","filling","cancel","pushInfo","validPhone","test","valid","data","showAlert","fetchData","localCache","getLocalCache","_id","dataType","json","unshift","imgUrl","querySelectorAll","onMenuShareTimeline","title","link","src","$","click","appMessageDesc","schoolName","onMenuShareAppMessage","desc","controller","$ctrl","$onRendered","signUp","$onEnter","params","root","currentIsVisited","isLiked","$watch","newVal","genClips","$t","amount","width","height","y","Math","pow","index","z","appendTo","rand","min","max","floor","random","first","clicked","on","alert","css","each","nx","ny","v","angle","theta","PI","g","self","this","t","totalt","negate","direction","randDeg","randScale","randDeg2","transform","setInterval","ux","cos","uy","sin","bottom","left","clearInterval","r","addClass","$onBeforeUnload","$vmodels"],"mappings":"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"}