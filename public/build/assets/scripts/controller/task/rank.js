define([],function(){var apiBaseUrl=avalon.illyGlobal.apiBaseUrl||"http://api.hizuoye.com/api/v1/",token=avalon.illyGlobal&&avalon.illyGlobal.token,resourcePrefix="http://resource.hizuoye.com",rank=avalon.define({$id:"rank",ranks:[],myScore:0,myRank:0,displayName:"",avatar:""});return avalon.controller(function($ctrl){$ctrl.$onRendered=function(){},$ctrl.$onEnter=function(){$http.ajax({url:apiBaseUrl+"score/rank/me",headers:{Authorization:"Bearer "+token},success:function(res){rank.displayName=res.displayName,rank.avatar=res.avatar?resourcePrefix+res.avatar:"http://resource.hizuoye.com/images/avatar/children/default1.png",rank.myRank=res.rank,rank.myScore=res.score},error:function(res){console.log("rank ajax error!"+res)},ajaxFail:function(res){console.log("rank ajax ajaxFail!"+res)}}),$http.ajax({url:apiBaseUrl+"score/rank/topTen",headers:{Authorization:"Bearer "+token},success:function(res){rank.ranks=res},error:function(res){console.log("rank ajax error!"+res)},ajaxFail:function(res){console.log("rank ajax ajaxFail!"+res)}})},$ctrl.$onBeforeUnload=function(){},$ctrl.$vmodels=[]})});
//# sourceMappingURL=rank.js.map