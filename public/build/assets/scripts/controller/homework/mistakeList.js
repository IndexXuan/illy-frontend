define([],function(){var apiBaseUrl=avalon.illyGlobal&&avalon.illyGlobal.apiBaseUrl||"http://api.hizuoye.com/api/v1/",token=avalon.illyGlobal.token;null===token&&avalon.vmodels.root.noTokenHandler();var mistakeList=avalon.define({$id:"mistakeList",lists:[],fetchData:function(){$http.ajax({method:"",url:apiBaseUrl+"homework/mistake",headers:{Authorization:"Bearer "+token},success:function(res){mistakeList.lists=res},error:function(res){console.log("mistakeList ajax error"+res)},ajaxFail:function(res){console.log("mistakeList ajax failed"+res)}})},fetchDataForExercises:function(homeworkId){$http.ajax({url:apiBaseUrl+"homework/mistake/"+homeworkId,headers:{Authorization:"Bearer "+token},success:function(res){var mistake=avalon.vmodels.mistake;mistake.exercises=res,avalon.router.go("app.mistake.wrong",{homeworkId:homeworkId,questionId:1})},error:function(res){console.log("mistakeTemp ajax error"+res)},ajaxFail:function(res){console.log("mistakeTemp ajax failed"+res)}})},goWrong:function(){var homeworkId=arguments[0].getAttribute("data-homeworkId");mistakeList.fetchDataForExercises(homeworkId)}});return avalon.controller(function($ctrl){$ctrl.$onBeforeUnload=function(){},$ctrl.$onEnter=function(){mistakeList.fetchData()},$ctrl.$onRendered=function(){},$ctrl.$vmodels=[]})});
//# sourceMappingURL=mistakeList.js.map