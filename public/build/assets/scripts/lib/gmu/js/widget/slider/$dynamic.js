!function(gmu,$){gmu.Slider.options.edgeThrottle=0,gmu.Slider.register("dynamic",{_init:function(){var me=this;me.on("slideend",me._adjustPos),me.getEl().on("touchstart"+me.eventNs,function(){me._adjustPos()})},_create:function(){var group,me=this,opts=me._options;if(!opts.content||opts.content.length<3)throw new Error("以动态模式使用slider，至少需要传入3组数据");opts.viewNum=1,opts.loop=!1,this._group=group=$('<div class="ui-slider-group"></div>'),me._renderItems(opts.content,opts.index,group),group.appendTo(me.getEl()),opts.index=me.index,me.origin(),me._adjustPos(!0)},trigger:function(e,to){return("slide"===e||"slide"===e.type)&&(this._active=this._pool[to],this._flag=!0),this.origin.apply(this,arguments)},slideTo:function(to,speed){var index=this.getIndex();if(1===Math.abs(to-index))return this._adjustPos(),this.origin(to+this.index-index,speed)},prev:function(){var index=this.getIndex();return index>0&&this.slideTo(index-1),this},next:function(){var index=this.getIndex();return index<this._content.length-1&&this.slideTo(index+1),this},_adjustPos:function(force,ignoreEdge){if(force||this._flag){var item,elem,me=this,opts=me._options,content=me._content,group=me._group,index=$.inArray(me._active,content),delta=me.index-1,next=index+delta;return delta&&next<content.length&&next>=0&&(item=content[next],elem=$(me.tpl2html("item",item)),gmu.staticCall(me._items[1-delta],"remove"),group[0>delta?"prepend":"append"](elem),me.trigger("dom.change"),me._pool.splice(1-delta,1),me._pool[0>delta?"unshift":"push"](item),me.index-=delta,me._items=group.children().toArray(),me._arrange(me.width,me.index)),ignoreEdge||index!==opts.edgeThrottle&&index!==content.length-opts.edgeThrottle-1||me.trigger("edge",index===opts.edgeThrottle,me._active),me._flag=!1,me}},_renderItems:function(content,index,group){var arr=content.slice(index,index+(index>0?2:3)),rest=3-arr.length;this._content=content.concat(),this._active=content[index],rest&&(arr=content.slice(index-rest,index).concat(arr)),this.index=rest,this._createItems(group,this._pool=arr)},getIndex:function(){return $.inArray(this._active,this._content)},active:function(){return this._active},content:function(content){if(!$.isArray(content))return this._content.concat();var me=this,active=me._active,index=$.inArray(active,content),group=this._group.empty();~index||(index=0),me._renderItems(content,index,group),me._items=group.children().toArray(),me._arrange(me.width,me.index),me._adjustPos(!1,!0),me.trigger("dom.change")}})}(gmu,gmu.$);
//# sourceMappingURL=%24dynamic.js.map