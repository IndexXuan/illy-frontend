!function(gmu,$,undefined){gmu.define("Add2desktop",{options:{icon:"",container:"",key:"_gmu_adddesktop_key",useFix:!0,position:{bottom:12,left:"50%"},beforeshow:function(e){this.key()&&e.preventDefault()},afterhide:function(){this.key(1)},_isShow:!1},_init:function(){var me=this;me.on("ready",function(){me.$el.find(".ui-add2desktop-close").on("click",function(){me.hide()}),me._options.useFix&&me.$el.fix(me._options.position),me.show()}),me.on("destroy",function(){me.$el.remove()})},_create:function(){var $el,me=this,version=$.os.version&&$.os.version.substr(0,3)>4.1?"new":"old";if($.os.version&&$.os.version.substr(0,3)>=7&&(version="iOS7"),me._options.setup){var src=me.$el.children("img").attr("src");src&&(me._options.icon=src)}$el=me.$el||(me.$el=$("<div></div>")),$el.addClass("ui-add2desktop").appendTo(me._options.container||(me.$el.parent().length?"":document.body)),$el.html('<img src="'+me._options.icon+'"/><p>先点击<span class="ui-add2desktop-icon-'+version+'"></span>，<br />再"添加到主屏幕"</p><span class="ui-add2desktop-close"><b></b></span><div class="ui-add2desktop-arrow"><b></b></div>')},key:function(value){var ls=window.localStorage;return value!==undefined?ls.setItem(this._options.key,value):ls.getItem(this._options.key)},show:function(){var me=this;if(!me._options._isShow){if(!$.os.ios||$.browser.uc||$.browser.qq||$.browser.chrome)return me;var event=new gmu.Event("beforeshow");if(me.trigger(event),event.isDefaultPrevented())return me;me.$el.css("display","block"),me._options._isShow=!0}return me},hide:function(){var me=this;return me._options._isShow&&(me.$el.css("display","none"),me._options._isShow=!1,me.trigger("afterhide")),me}})}(gmu,gmu.$);
//# sourceMappingURL=add2desktop.js.map