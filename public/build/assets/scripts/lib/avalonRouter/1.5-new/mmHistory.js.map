{"version":3,"file":"mmHistory.js","sources":["../../../../../../assets/scripts/lib/avalonRouter/1.5-new/mmHistory.js"],"names":["define","avalon","targetIsThisWindow","targetWindow","window","name","top","getFirstAnchor","list","el","i","nodeName","scrollToAnchorId","hash","document","getElementById","scrollIntoView","getElementsByName","scrollTo","anchorElement","createElement","History","this","location","started","IEVersion","mode","documentMode","XMLHttpRequest","defaults","basepath","html5Mode","hashPrefix","iframeID","interval","fireAnchor","routeElementJudger","noop","oldIE","VBArray","supportPushState","history","supportHashChange","prototype","constructor","getFragment","fragment","monitorMode","getPath","getHash","replace","path","href","_getHash","slice","indexOf","decodeURIComponent","pathname","search","root","length","_getAbsolutePath","a","hasAttribute","getAttribute","start","options","checkUrl","iframe","that","pageHash","lastHash","router","getLastPath","iframeHash","_setIframeHistory","prefix","fireRouteChange","fromHistory","Error","mix","log","rootpath","html","domain","iframeHTML","ready","src","style","display","tabIndex","body","appendChild","contentWindow","bind","_fireLocationChange","setInterval","navigate","setLastPath","stop","unbind","clearInterval","updateLocation","urlHash","rp","st","silent","split","title","newHash","_setHash","idoc","open","write","close","event","defaultPrevented","returnValue","ctrlKey","metaKey","which","target","parentNode","tagName","trim","preventDefault"],"mappings":"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"}